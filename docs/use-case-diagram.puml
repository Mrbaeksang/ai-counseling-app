@startuml AI-Counseling-Use-Case-Diagram
!define RECTANGLE class

' 스타일 설정
skinparam packageStyle rectangle
skinparam shadowing false
skinparam actorBorderColor #333333
skinparam usecaseBorderColor #333333
skinparam packageBorderColor #333333

' 액터 정의
actor "일반 사용자" as User
actor "AI 시스템" as AI
actor "관리자" as Admin

' 시스템 경계
rectangle "AI 철학자/상담사 대화 시스템" {
    ' 인증 관련
    usecase "회원가입" as UC1
    usecase "로그인" as UC2
    usecase "로그아웃" as UC3
    
    ' 상담사 선택 관련
    usecase "상담 카테고리 조회" as UC4
    usecase "상담사 목록 조회" as UC5
    usecase "상담사 상세정보 보기" as UC6
    usecase "AI 가이드 상담" as UC7
    usecase "상담사 추천받기" as UC8
    usecase "상담사 즐겨찾기" as UC9
    
    ' 대화 관련
    usecase "새 상담 세션 시작" as UC10
    usecase "메시지 전송" as UC11
    usecase "AI 응답 받기" as UC12
    usecase "대화 히스토리 조회" as UC13
    usecase "중요 조언 북마크" as UC14
    usecase "북마크 목록 조회" as UC15
    
    ' 세션 관리
    usecase "내 상담 세션 목록 조회" as UC16
    usecase "세션 요약 보기" as UC17
    usecase "세션 삭제" as UC18
    
    ' 관리자 기능
    usecase "상담사 정보 관리" as UC19
    usecase "사용 통계 조회" as UC20
    usecase "AI 프롬프트 관리" as UC21
}

' 사용자와 유스케이스 연결
User --> UC1 : 계정 생성
User --> UC2 : 접속
User --> UC3 : 종료

User --> UC4 : 카테고리 선택
User --> UC5 : 상담사 탐색
User --> UC6 : 정보 확인
User --> UC7 : 가이드 요청
User --> UC9 : 즐겨찾기 추가

User --> UC10 : 상담 시작
User --> UC11 : 고민 상담
User --> UC13 : 이전 대화 확인
User --> UC14 : 조언 저장
User --> UC15 : 저장된 조언 확인

User --> UC16 : 세션 관리
User --> UC17 : 요약 확인
User --> UC18 : 삭제

' AI 시스템과 유스케이스 연결
AI --> UC8 : 분석 및 추천
AI --> UC12 : 응답 생성
AI --> UC17 : 요약 생성

' 관리자와 유스케이스 연결
Admin --> UC19 : CRUD
Admin --> UC20 : 모니터링
Admin --> UC21 : 프롬프트 수정

' include 관계 (필수 포함)
UC7 ..> UC8 : <<include>>
UC10 ..> UC5 : <<include>>
UC11 ..> UC12 : <<include>>

' extend 관계 (선택적 확장)
UC5 ..> UC6 : <<extend>>
UC13 ..> UC14 : <<extend>>
UC16 ..> UC17 : <<extend>>

@enduml