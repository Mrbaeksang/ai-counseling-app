### AI Counseling App - API Test Suite
### 실행 방법: IntelliJ IDEA에서 이 파일을 열고 각 요청 옆의 ▶ 버튼을 클릭하세요

### 변수 설정
@host = http://localhost:8080
@contentType = application/json
@authToken = {{auth_token}}

### ============================================
### 0. 개발용 인증 (테스트 토큰 발급)
### ============================================

### 0.1 테스트 토큰 발급 (test@example.com)
### 응답으로 받은 accessToken을 복사해서 위의 @authToken에 넣으세요
POST {{host}}/api/dev/auth/test-token
Content-Type: {{contentType}}

> {%
client.global.set("auth_token", response.body.data.accessToken);
client.log("토큰이 저장되었습니다: " + response.body.data.accessToken);
%}

### 0.2 다른 테스트 사용자로 토큰 발급
POST {{host}}/api/dev/auth/test-token?email=demo@example.com
Content-Type: {{contentType}}

### 0.3 테스트 사용자 목록 조회
GET {{host}}/api/dev/auth/test-users
Accept: {{contentType}}

### ============================================
### 1. 상담사 API 테스트
### ============================================

### 1.1 상담사 목록 조회 (인증 없이도 가능)
GET {{host}}/api/counselors
Accept: {{contentType}}

### 1.2 상담사 목록 조회 - 페이징
GET {{host}}/api/counselors?page=0&size=5
Accept: {{contentType}}

### 1.3 상담사 목록 조회 - 정렬 (인기순)
GET {{host}}/api/counselors?sort=popular
Accept: {{contentType}}

### 1.4 특정 상담사 상세 정보 조회
GET {{host}}/api/counselors/1
Accept: {{contentType}}

### 1.5 상담사 상세 정보 조회 (인증된 사용자 - 즐겨찾기 정보 포함)
### 토큰이 있으면 즐겨찾기 여부도 함께 반환됩니다
GET {{host}}/api/counselors/1
Accept: {{contentType}}
Authorization: Bearer {{authToken}}

### ============================================
### 2. 즐겨찾기 API 테스트 (인증 필요)
### ============================================

### 2.1 즐겨찾기 추가
POST {{host}}/api/counselors/1/favorite
Content-Type: {{contentType}}
Authorization: Bearer {{authToken}}

### 2.2 즐겨찾기 목록 조회
GET {{host}}/api/counselors/favorites
Accept: {{contentType}}
Authorization: Bearer {{authToken}}

### 2.3 즐겨찾기 삭제
DELETE {{host}}/api/counselors/1/favorite
Authorization: Bearer {{authToken}}

### ============================================
### 3. 헬스체크
### ============================================

### 애플리케이션 상태 확인
GET {{host}}/actuator/health
Accept: {{contentType}}
